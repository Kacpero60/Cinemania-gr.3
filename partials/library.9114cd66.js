document.addEventListener("DOMContentLoaded",(async()=>{await async function(){try{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=26ee83a5e26d7fcb87f8d8380af6bd82&language=en-US");if(!e.ok)throw new Error("Error fetching genres from TMDB");const t=await e.json(),n=document.getElementById("genreSelect");t.genres.forEach((e=>{const t=document.createElement("option");t.value=e.id,t.textContent=e.name,n.appendChild(t)}))}catch(e){console.error("Error:",e)}}(),function(){const e=document.querySelector(".gallery-library"),t=document.querySelector(".message"),n=document.getElementById("loadMoreBtn"),o=JSON.parse(localStorage.getItem("myLibrary"))||[];if(0===o.length)return t.style.display="block",n.style.display="none",void(e.innerHTML="");t.style.display="none",n.style.display="block",e.innerHTML="",o.forEach((t=>{const n=document.createElement("div");n.className="movie-item";const o=document.createElement("img");o.src=t.posterPath,o.alt=t.title;const a=document.createElement("p");a.textContent=t.title,n.appendChild(o),n.appendChild(a),e.appendChild(n)}))}()})),document.addEventListener("DOMContentLoaded",(function(){const e=JSON.parse(localStorage.getItem("library"))||[],t=document.querySelector(".gallery-library"),n=document.querySelector(".message");0===e.length?(n.style.display="block",t.innerHTML=""):(n.style.display="none",t.innerHTML="",e.forEach((e=>{const n=document.createElement("div");n.classList.add("movie-item"),n.innerHTML=`\n                <h3>${e.title}</h3>\n                <p>Genre: ${e.genre}</p>\n                <button class="show-details-btn">Show Details</button>\n            `,t.appendChild(n),n.querySelector(".show-details-btn").addEventListener("click",(()=>{!function(e){const t=document.createElement("div");t.classList.add("popup"),t.innerHTML=`\n        <div class="popup-content">\n            <h2>${e.title}</h2>\n            <p><strong>Genre:</strong> ${e.genre}</p>\n            <p><strong>Description:</strong> ${e.description||"No description available"}</p>\n            <button class="close-popup-btn">Close</button>\n        </div>\n    `,document.body.appendChild(t),t.querySelector(".close-popup-btn").addEventListener("click",(()=>{t.remove()}))}(e)}))})))})),document.addEventListener("DOMContentLoaded",(async function(){let e=JSON.parse(localStorage.getItem("library"))||[];const t=document.querySelector(".message"),n=document.getElementById("loadMoreBtn");if(0===e.length)return t.style.display="block",void(n.style.display="none");t.style.display="none",n.style.display="block";const o=document.querySelector(".gallery-library");o.innerHTML="";for(let t of e)try{const e=await fetch(`https://api.themoviedb.org/3/movie/${t}?api_key=${apikey}`);if(!e.ok)throw new Error("Błąd podczas pobierania danych filmu");const n=await e.json(),a=document.createElement("div");a.className="movie";const r=document.createElement("img");r.src=`https://image.tmdb.org/t/p/w500${n.poster_path}`;const l=document.createElement("p");l.textContent=n.title,l.className="movie-title";const i=document.createElement("p"),c=n.genres.map((e=>e.name)).join(", "),s=n.release_date.split("-")[0];i.textContent=`${c} | ${s}`,i.className="movie-genres-year",a.appendChild(r),a.appendChild(l),a.appendChild(i),o.appendChild(a)}catch(e){console.error("Błąd podczas pobierania filmów z biblioteki:",e)}}));
//# sourceMappingURL=library.9114cd66.js.map
