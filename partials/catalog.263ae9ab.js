async function e(e,n){const a=document.getElementById("popUpContainer"),o=document.getElementById("popUpImage"),c=document.getElementById("popUpDescription");o.innerHTML="",c.innerHTML="";const s=document.createElement("img");s.src=`https://image.tmdb.org/t/p/w500${e.poster_path}`,o.appendChild(s);const i=await t(n),d=e.genre_ids.map((e=>i[e])).filter((e=>e));c.innerHTML=`\n        <h2>${e.title}</h2>\n        <p class="pop-up-description-data vote" >Vote / Votes: <span> ${e.vote_average} / ${e.vote_count}</span></p>\n        <p class="pop-up-description-data popularity">Popularity: <span>${e.popularity}</span></p>\n        <p class="pop-up-description-data gendre">Genre: <span>${d.length>0?d.join(", "):""}</span></p>\n        <p class="pop-up-description-data about"> ABOUT:</p>\n        <p class="pop-up-description-data about-desc"> ${e.overview}</p>\n        <button class="buttonAddToMyLibrary" id="buttonAddToMyLibrary">Add to my</button>\n    `,a.style.display="flex",console.log(e.title),document.getElementById("closePopUp").onclick=function(){a.style.display="none"}}async function t(e){try{const t=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${e}&language=en-US&`),n=await t.json(),a={};return n.genres.forEach((e=>{a[e.id]=e.name})),a}catch(e){return console.error("Błąd podczas pobierania gatunków:",e),{}}}const n=document.querySelector(".gallery");let a=1,o=24;let c="",s={};async function i(){const e=document.getElementById("pagination");if(e.innerHTML="",a>=1){const t=document.createElement("button");t.textContent="<",t.classList.add("prevnext-btn"),t.addEventListener("click",(()=>{a--,c?p(c,a):d(a),i()})),e.appendChild(t)}for(let t=1;t<=Math.min(3,o);t++){const n=document.createElement("button");n.textContent=t,n.classList.add("pagination-btn"),t===a&&n.classList.add("active"),n.addEventListener("click",(()=>{a=t,c?p(c,a):d(a),i()})),e.appendChild(n)}if(o>3){const t=document.createElement("div");t.textContent="...",t.classList.add("dots"),e.appendChild(t);const n=document.createElement("button");n.textContent=24,n.classList.add("pagination-btn"),n.addEventListener("click",(()=>{a=24,c?p(c,a):d(a),i()})),e.appendChild(n)}if(a<o){const t=document.createElement("button");t.textContent=">",t.classList.add("prevnext-btn"),t.addEventListener("click",(()=>{a++,c?p(c,a):d(a),i()})),e.appendChild(t)}}async function d(t=1){const a=`https://api.themoviedb.org/3/movie/popular?api_key=26ee83a5e26d7fcb87f8d8380af6bd82&language=en-US&include_adult=false&page=${t}`;try{const t=await fetch(a);if(!t.ok)throw new Error("response was not ok");const c=await t.json();o=c.total_pages,n.innerHTML="",c.results.length>0?c.results.forEach((t=>{const a=document.createElement("div");a.className="movie";const o=document.createElement("img");o.src=`https://image.tmdb.org/t/p/w500${t.poster_path}`;const c=document.createElement("p");c.textContent=t.title,c.className="movie-title";const i=document.createElement("p"),d=t.genre_ids.map((e=>s[e])).filter((e=>e)).join(", "),p=t.release_date.split("-")[0];i.textContent=`${d} | ${p}`,i.className="movie-genres-year",a.appendChild(o),a.appendChild(c),a.appendChild(i),n.appendChild(a),a.addEventListener("click",(()=>{e(t,"26ee83a5e26d7fcb87f8d8380af6bd82")}))})):n.textContent="OOPS... Brak wyników pasujących do wyszukiwania.",i()}catch(e){console.error("Błąd podczas pobierania filmów:",e)}}async function p(e,t=1){const a=`https://api.themoviedb.org/3/search/movie?query=${e}&api_key=26ee83a5e26d7fcb87f8d8380af6bd82&language=en-US&include_adult=false&page=${t}`;try{const e=await fetch(a);if(!e.ok)throw new Error("response was not ok");const t=await e.json();o=t.total_pages,n.innerHTML="",t.results.length>0?t.results.forEach((e=>{const t=document.createElement("div");t.className="movie";const a=fetch(`https://api.themoviedb.org/3/movie/${e.id}/images?api_key=26ee83a5e26d7fcb87f8d8380af6bd82`).json();if(a.posters.length>0){const e=document.createElement("img");e.src=`https://image.tmdb.org/t/p/w500${a.posters[0].file_path}`,t.appendChild(e)}const o=document.createElement("p");o.textContent=e.title,o.className="movie-title";const c=document.createElement("p"),i=e.genre_ids.map((e=>s[e])).filter((e=>e)).join(", "),d=e.release_date.split("-")[0];c.textContent=`${i} | ${d}`,c.className="movie-genres-year",t.appendChild(imgEl),t.appendChild(o),n.appendChild(t),t.appendChild(c)})):n.textContent="OOPS... Brak wyników pasujących do wyszukiwania.",i()}catch(e){console.error("Błąd podczas wyszukiwania filmów:",e)}}!async function(){try{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=26ee83a5e26d7fcb87f8d8380af6bd82");if(!e.ok)throw new Error("response was not ok");const t=await e.json();s={},t.genres.forEach((e=>{s[e.id]=e.name}))}catch(e){console.error("error:",e)}}(),document.getElementById("searchButton").addEventListener("click",(function(e){e.preventDefault(),c=document.getElementById("searchInput").value,a=1,updateMovies()})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("searchInput"),t=document.getElementById("clearButton");e.addEventListener("input",(function(){e.value.length>0?t.style.display="block":t.style.display="none"})),t.addEventListener("click",(function(){e.value="",t.style.display="none",e.focus()})),document.getElementById("searchButton").addEventListener("click",(function(t){t.preventDefault();const n=e.value;n&&p(n)}))})),async function(){await t(),await async function(){const e=document.getElementById("countrySelect");try{const t=await fetch("https://restcountries.com/v3.1/all"),n=await t.json();for(let t=0;t<n.length;t++){const a=n[t],o=document.createElement("option");o.value=a.cca2,o.textContent=a.name.common,e.appendChild(o)}}catch(e){console.error("Błąd podczas pobierania krajów:",e)}}(),await async function(){const e=document.getElementById("yearSelect");for(let t=(new Date).getFullYear();t>=1980;t--){const n=document.createElement("option");n.value=t,n.textContent=t,e.appendChild(n)}}(),d(a)}();
//# sourceMappingURL=catalog.263ae9ab.js.map
