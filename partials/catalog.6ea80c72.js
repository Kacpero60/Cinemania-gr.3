!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var c=a("bpxeT"),o=a("2TvXO"),i="26ee83a5e26d7fcb87f8d8380af6bd82",s=document.querySelector(".gallery"),u=1,l=24,p="",d="",m="";function h(){return(h=e(c)(e(o).mark((function t(){var n,r,a,c,i,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("countrySelect"),e.prev=1,e.next=4,fetch("https://restcountries.com/v3.1/all");case 4:return r=e.sent,e.next=7,r.json();case 7:for(a=e.sent,c=0;c<a.length;c++)i=a[c],(s=document.createElement("option")).value=i.cca2,s.textContent=i.name.common,n.appendChild(s);e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("error fetching countries");case 14:case"end":return e.stop()}}),t,null,[[1,11]])})))).apply(this,arguments)}function f(){return(f=e(c)(e(o).mark((function t(){var n,r,a,c;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=document.getElementById("yearSelect"),r=(new Date).getFullYear(),a=r;a>=1980;a--)(c=document.createElement("option")).value=a,c.textContent=a,n.appendChild(c);case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function v(){return g.apply(this,arguments)}function g(){return(g=e(c)(e(o).mark((function t(){var n,r,a,c,i,s,d;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for((n=document.getElementById("pagination")).innerHTML="",u>=1&&((r=document.createElement("button")).textContent="<",r.addEventListener("click",(function(){u--,p?b(p,u):x(u),v()})),n.appendChild(r)),a=1;a<=Math.min(3,l);a++)(c=document.createElement("button")).textContent=a,c.addEventListener("click",(function(){u=a,p?b(p,u):x(u),v()})),n.appendChild(c);l>3&&((i=document.createElement("div")).textContent="...",n.appendChild(i),(s=document.createElement("button")).textContent=24,s.addEventListener("click",(function(){u=24,p?b(p,u):x(u),v()})),n.appendChild(s)),u<l&&((d=document.createElement("button")).textContent=">",d.addEventListener("click",(function(){u++,p?b(p,u):x(u),v()})),n.appendChild(d));case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function x(){return y.apply(this,arguments)}function y(){return y=e(c)(e(o).mark((function t(){var n,r,a,c,u,p,d,m,h,f,g,x,y,b,k,E,w,C=arguments;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C.length>0&&void 0!==C[0]?C[0]:1,r=C.length>1&&void 0!==C[1]?C[1]:"",a=C.length>2&&void 0!==C[2]?C[2]:"",c=r?"&region=".concat(r):"",u=a?"&primary_release_year=".concat(a):"",p="https://api.themoviedb.org/3/movie/popular?api_key=".concat(i,"&language=en-US&include_adult=false&page=").concat(n).concat(c).concat(u),e.prev=4,e.next=7,fetch(p);case 7:if((d=e.sent).ok){e.next=10;break}throw new Error("response was not ok");case 10:return e.next=12,d.json();case 12:if(m=e.sent,s.innerHTML="",h=!0,f=!1,g=void 0,!(m.results.length>0)){e.next=34;break}for(e.prev=16,x=m.results[Symbol.iterator]();!(h=(y=x.next()).done);h=!0)b=y.value,(k=document.createElement("div")).className="movie",(E=document.createElement("img")).src="https://image.tmdb.org/t/p/w500".concat(b.poster_path),(w=document.createElement("p")).textContent=b.title,w.className="movie-title",k.appendChild(E),s.appendChild(k),k.appendChild(w);e.next=24;break;case 20:e.prev=20,e.t0=e.catch(16),f=!0,g=e.t0;case 24:e.prev=24,e.prev=25,h||null==x.return||x.return();case 27:if(e.prev=27,!f){e.next=30;break}throw g;case 30:return e.finish(27);case 31:return e.finish(24);case 32:e.next=35;break;case 34:s.textContent="OOPS...We are very sorry! You dont have any results matching your search.";case 35:l=m.total_pages,v(),e.next=42;break;case 39:e.prev=39,e.t1=e.catch(4),console.error("error fetching movies:",e.t1);case 42:case"end":return e.stop()}}),t,null,[[4,39],[16,20,24,32],[25,,27,31]])}))),y.apply(this,arguments)}function b(e){return k.apply(this,arguments)}function k(){return k=e(c)(e(o).mark((function t(n){var r,a,c,u,p,h,f,g,x,y,b,k,E,w,C,_,L,S=arguments;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=S.length>1&&void 0!==S[1]?S[1]:1,a=m?"&primary_release_year=".concat(m):"",c=d?"&region=".concat(d):"",u="https://api.themoviedb.org/3/search/movie?query=".concat(n,"&api_key=").concat(i,"&language=en-US&include_adult=false&page=").concat(r).concat(c).concat(a),console.log(u),e.prev=5,e.next=8,fetch(u);case 8:if((p=e.sent).ok){e.next=11;break}throw new Error("response was not ok");case 11:return e.next=13,p.json();case 13:if(h=e.sent,s.innerHTML="",f=!0,g=!1,x=void 0,!(h.results.length>0)){e.next=54;break}e.prev=17,y=h.results[Symbol.iterator]();case 19:if(f=(b=y.next()).done){e.next=38;break}return k=b.value,(E=document.createElement("div")).className="movie",e.next=25,fetch("https://api.themoviedb.org/3/movie/".concat(k.id,"/images?api_key=").concat(i));case 25:return w=e.sent,e.next=28,w.json();case 28:(C=e.sent).posters.length>0&&((_=document.createElement("img")).src="https://image.tmdb.org/t/p/w500".concat(C.posters[0].file_path),E.appendChild(_)),(L=document.createElement("p")).textContent=k.title,L.className="movie-title",s.appendChild(E),E.appendChild(L);case 35:f=!0,e.next=19;break;case 38:e.next=44;break;case 40:e.prev=40,e.t0=e.catch(17),g=!0,x=e.t0;case 44:e.prev=44,e.prev=45,f||null==y.return||y.return();case 47:if(e.prev=47,!g){e.next=50;break}throw x;case 50:return e.finish(47);case 51:return e.finish(44);case 52:e.next=55;break;case 54:s.textContent="OOPS...We are very sorry! You dont have any results matching your search.";case 55:l=h.total_pages,v(),e.next=62;break;case 59:e.prev=59,e.t1=e.catch(5),console.error("error fetching movies:",e.t1);case 62:case"end":return e.stop()}}),t,null,[[5,59],[17,40,44,52],[45,,47,51]])}))),k.apply(this,arguments)}document.getElementById("searchButton").addEventListener("click",(function(e){e.preventDefault(),p=document.getElementById("searchInput").value,m=document.getElementById("yearSelect").value,d=document.getElementById("countrySelect").value,""!==p&&(u=1,b(p))})),document.addEventListener("DOMContentLoaded",(function(){!function(){f.apply(this,arguments)}(),function(){h.apply(this,arguments)}(),x(u)}))}();
//# sourceMappingURL=catalog.6ea80c72.js.map
