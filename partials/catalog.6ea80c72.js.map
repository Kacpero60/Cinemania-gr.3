{"mappings":"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","sources":["src/js/catalog.js"],"sourcesContent":["const apikey = '26ee83a5e26d7fcb87f8d8380af6bd82';\nconst gallery = document.querySelector(\".gallery\");\nlet currentPage = 1;\nlet totalPages = 24;\nconst perPage = 20;\nlet keyWord = '';\nlet selectedCountry = '';\nlet selectedYear = '';\n\n//funkcja, co daje kraje do wyboru\nasync function selector() {\n    const countrySelect = document.getElementById('countrySelect');\n\n    try {\n        const response = await fetch(`https://restcountries.com/v3.1/all`);\n        const countries = await response.json();\n\n        for (let i = 0; i < countries.length; i++) { \n            const country = countries[i];\n            const option = document.createElement('option');\n            option.value = country.cca2;\n            option.textContent = country.name.common;\n            countrySelect.appendChild(option);\n        }\n    } catch(error) {\n        console.error('error fetching countries');\n    }\n}\n\n//funkcja co daje lata do wyboru\nasync function populateYears() {\n    const yearSelect = document.getElementById('yearSelect');\n    const currentYear = new Date().getFullYear(); \n\n\n    for (let year = currentYear; year >= 1980; year--) {\n        const option = document.createElement('option');\n        option.value = year;\n        option.textContent = year;\n        yearSelect.appendChild(option);\n    }\n}\n\n//renderowanie przycisków\nasync function renderBtn() {\n    const paginationBtn = document.getElementById('pagination');\n    paginationBtn.innerHTML = '';\n\n   //przycisk do cofania '<'\n   if (currentPage >= 1) {\n        const prevBtn = document.createElement('button');\n        prevBtn.textContent = '<';\n\n        prevBtn.addEventListener('click', () => {\n            currentPage--;\n\n            if (keyWord) {\n                searchMovies(keyWord, currentPage)\n            } else {\n                popularMovies(currentPage);\n            }\n            renderBtn();\n        });\n        paginationBtn.appendChild(prevBtn);\n   }\n\n   //wyświetlenie pierwszych trzech stron\n   for (let i = 1; i <= Math.min(3, totalPages); i++) {\n        const btn = document.createElement('button');\n        btn.textContent = i;\n\n        btn.addEventListener('click', () => {\n            currentPage = i;\n\n            if (keyWord) {\n                searchMovies(keyWord, currentPage);\n            } else {\n                popularMovies(currentPage);\n            }\n            renderBtn();\n        });\n        paginationBtn.appendChild(btn);\n   }\n\n   \n   //kropki, gdy jest wiecej niz 3 strony\n   if (totalPages > 3) {\n       const dots =document.createElement('div');\n       dots.textContent = '...';\n       paginationBtn.appendChild(dots);\n       \n       //wyswietlenie 24 strony\n       const lastBtn = document.createElement('button');\n       lastBtn.textContent = 24;\n       \n       lastBtn.addEventListener('click', () => {\n           currentPage = 24;\n           \n           if (keyWord) {\n               searchMovies(keyWord, currentPage);\n            } else {\n                popularMovies(currentPage);\n            }\n            renderBtn();\n        });\n        paginationBtn.appendChild(lastBtn);\n   }\n\n   //przycisk do nastepnej strony '>'\n   if (currentPage < totalPages) {\n    const nextBtn = document.createElement('button');\n    nextBtn.textContent = '>';\n\n    nextBtn.addEventListener('click', () => {\n        currentPage++;\n\n        if (keyWord) {\n            searchMovies(keyWord, currentPage)\n        } else {\n            popularMovies(currentPage);\n        }\n        renderBtn();\n    });\n    paginationBtn.appendChild(nextBtn);\n}\n}\n\n//funkcja do pobierania popularnych filmów, jest wyświetlana po załadowaniu strony\nasync function popularMovies(page = 1, selectedCountry = '', selectedYear = '') {\n    const regionParams = selectedCountry ? `&region=${selectedCountry}` : '';\n    const yearParams = selectedYear ? `&primary_release_year=${selectedYear}` : '';\n    const apiUrl = `https://api.themoviedb.org/3/movie/popular?api_key=${apikey}&language=en-US&include_adult=false&page=${page}${regionParams}${yearParams}`;\n\n    try {\n        const response = await fetch(apiUrl);\n        if (!response.ok) {\n            throw new Error('response was not ok')\n        }\n        const data = await response.json();\n\n        gallery.innerHTML = '';\n\n        if (data.results.length > 0) {\n            for (const movie of data.results) {\n                const movieEl = document.createElement('div');\n                movieEl.className = 'movie';\n\n                const imgEl = document.createElement('img');\n                imgEl.src = `https://image.tmdb.org/t/p/w500${movie.poster_path}`; \n                \n                const titleEl = document.createElement('p')\n                titleEl.textContent = movie.title\n                titleEl.className = 'movie-title';\n\n                movieEl.appendChild(imgEl);\n                gallery.appendChild(movieEl);\n                movieEl.appendChild(titleEl);\n            }\n        } else {\n                gallery.textContent =  'OOPS...We are very sorry! You dont have any results matching your search.';\n        }\n\n        totalPages = data.total_pages;\n        renderBtn();\n        } catch (error) {\n                console.error('error fetching movies:', error);\n        }\n            }\n\n//funkcja co wyszukuje wszystkie filmy po wpisaniu keyword'a\nasync function searchMovies(keyWord, page = 1) {\n    const yearParams = selectedYear ? `&primary_release_year=${selectedYear}` : '';\n    const regionParams = selectedCountry ? `&region=${selectedCountry}` : '';\n    const apiURL = `https://api.themoviedb.org/3/search/movie?query=${keyWord}&api_key=${apikey}&language=en-US&include_adult=false&page=${page}${regionParams}${yearParams}`;\n\n    console.log(apiURL); \n\ntry {\n    const response = await fetch(apiURL);\n    if (!response.ok) {\n        throw new Error('response was not ok')\n    }\n    const data = await response.json();\n\n    gallery.innerHTML = '';\n\nif (data.results.length > 0) {\n    for (const movie of data.results) {\n        const movieEl = document.createElement('div');\n        movieEl.className = 'movie';\n\n\n     // pobrane obrazy dla danego filmu\n     const imageResponse = await fetch(`https://api.themoviedb.org/3/movie/${movie.id}/images?api_key=${apikey}`);\n     const imageData = await imageResponse.json();\n\n     // sprawdzanie czy są dostępne postery\n     if (imageData.posters.length > 0) {\n         const imgEl = document.createElement('img');\n         imgEl.src = `https://image.tmdb.org/t/p/w500${imageData.posters[0].file_path}`; \n         movieEl.appendChild(imgEl);\n     }\n        //tytuł filmu\n        const titleEl = document.createElement('p')\n        titleEl.textContent = movie.title\n        titleEl.className = 'movie-title';\n\n        gallery.appendChild(movieEl);\n        movieEl.appendChild(titleEl);\n    }\n} else {\n        gallery.textContent =  'OOPS...We are very sorry! You dont have any results matching your search.';\n}\n\ntotalPages = data.total_pages;\nrenderBtn();\n} catch (error) {\n        console.error('error fetching movies:', error);\n}\n}\n\n\n//wyszukiwanie przycisku\ndocument.getElementById('searchButton').addEventListener('click', function(event) {\n    event.preventDefault();\n\n    //wartość inputa\n     keyWord = document.getElementById('searchInput').value;\n     selectedYear = document.getElementById('yearSelect').value;\n     selectedCountry = document.getElementById('countrySelect').value;\n\n    if (keyWord === \"\") {\n        return;\n    }\n\n    //wywołanie searchMovies\n    currentPage = 1;\n    searchMovies(keyWord);\n\n});\n\n//wywołanie popularMovies po załadowaniu strony\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    populateYears();\n    selector();\n    popularMovies(currentPage);\n});\n"],"names":["$bpxeT","parcelRequire","$01039996e00cb7ba$var$apikey","$01039996e00cb7ba$var$gallery","document","querySelector","$01039996e00cb7ba$var$currentPage","$01039996e00cb7ba$var$totalPages","$01039996e00cb7ba$var$keyWord","$01039996e00cb7ba$var$selectedCountry","$01039996e00cb7ba$var$selectedYear","$01039996e00cb7ba$var$_selector","$parcel$interopDefault","$2TvXO","mark","_callee","countrySelect","response","countries","i","country","option","getElementById","fetch","_ctx","sent","json","length","createElement","value","cca2","textContent","name","common","appendChild","console","error","apply","this","arguments","$01039996e00cb7ba$var$_populateYears","yearSelect","currentYear","year","Date","getFullYear","$01039996e00cb7ba$var$renderBtn","$01039996e00cb7ba$var$_renderBtn","paginationBtn","prevBtn","btn","dots","lastBtn","nextBtn","innerHTML","addEventListener","$01039996e00cb7ba$var$searchMovies","$01039996e00cb7ba$var$popularMovies","Math","min","$01039996e00cb7ba$var$_popularMovies","page","selectedCountry1","selectedYear1","regionParams","yearParams","apiUrl","data","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","movie","movieEl","imgEl","titleEl","_args","concat","ok","Error","undefined","results","Symbol","iterator","next","done","className","src","poster_path","title","t0","return","total_pages","t1","keyWord1","$01039996e00cb7ba$var$_searchMovies","apiURL","imageResponse","imageData","log","id","posters","file_path","event","preventDefault","$01039996e00cb7ba$var$populateYears","$01039996e00cb7ba$var$selector"],"version":3,"file":"catalog.6ea80c72.js.map"}