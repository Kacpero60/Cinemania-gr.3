const e=document.querySelector(".gallery");let t=1,n=24;let o="",a="",c="";async function r(){const e=document.getElementById("pagination");if(e.innerHTML="",t>=1){const n=document.createElement("button");n.textContent="<",n.addEventListener("click",(()=>{t--,o?i(o,t):s(t),r()})),e.appendChild(n)}for(let a=1;a<=Math.min(3,n);a++){const n=document.createElement("button");n.textContent=a,n.addEventListener("click",(()=>{t=a,o?i(o,t):s(t),r()})),e.appendChild(n)}if(n>3){const n=document.createElement("div");n.textContent="...",e.appendChild(n);const a=document.createElement("button");a.textContent=24,a.addEventListener("click",(()=>{t=24,o?i(o,t):s(t),r()})),e.appendChild(a)}if(t<n){const n=document.createElement("button");n.textContent=">",n.addEventListener("click",(()=>{t++,o?i(o,t):s(t),r()})),e.appendChild(n)}}async function s(t=1,o="",a=""){const c=`https://api.themoviedb.org/3/movie/popular?api_key=26ee83a5e26d7fcb87f8d8380af6bd82&language=en-US&include_adult=false&page=${t}${o?`&region=${o}`:""}${a?`&primary_release_year=${a}`:""}`;try{const t=await fetch(c);if(!t.ok)throw new Error("response was not ok");const o=await t.json();if(e.innerHTML="",o.results.length>0)for(const t of o.results){const n=document.createElement("div");n.className="movie";const o=document.createElement("img");o.src=`https://image.tmdb.org/t/p/w500${t.poster_path}`;const a=document.createElement("p");a.textContent=t.title,a.className="movie-title",n.appendChild(o),e.appendChild(n),n.appendChild(a)}else e.textContent="OOPS...We are very sorry! You dont have any results matching your search.";n=o.total_pages,r()}catch(e){console.error("error fetching movies:",e)}}async function i(t,o=1){const s=`https://api.themoviedb.org/3/search/movie?query=${t}&api_key=26ee83a5e26d7fcb87f8d8380af6bd82&language=en-US&include_adult=false&page=${o}${a?`&region=${a}`:""}${c?`&primary_release_year=${c}`:""}`;console.log(s);try{const t=await fetch(s);if(!t.ok)throw new Error("response was not ok");const o=await t.json();if(e.innerHTML="",o.results.length>0)for(const t of o.results){const n=document.createElement("div");n.className="movie";const o=await fetch(`https://api.themoviedb.org/3/movie/${t.id}/images?api_key=26ee83a5e26d7fcb87f8d8380af6bd82`),a=await o.json();if(a.posters.length>0){const e=document.createElement("img");e.src=`https://image.tmdb.org/t/p/w500${a.posters[0].file_path}`,n.appendChild(e)}const c=document.createElement("p");c.textContent=t.title,c.className="movie-title",e.appendChild(n),n.appendChild(c)}else e.textContent="OOPS...We are very sorry! You dont have any results matching your search.";n=o.total_pages,r()}catch(e){console.error("error fetching movies:",e)}}document.getElementById("searchButton").addEventListener("click",(function(e){e.preventDefault(),o=document.getElementById("searchInput").value,c=document.getElementById("yearSelect").value,a=document.getElementById("countrySelect").value,""!==o&&(t=1,i(o))})),document.addEventListener("DOMContentLoaded",(()=>{!async function(){const e=document.getElementById("yearSelect");for(let t=(new Date).getFullYear();t>=1980;t--){const n=document.createElement("option");n.value=t,n.textContent=t,e.appendChild(n)}}(),async function(){const e=document.getElementById("countrySelect");try{const t=await fetch("https://restcountries.com/v3.1/all"),n=await t.json();for(let t=0;t<n.length;t++){const o=n[t],a=document.createElement("option");a.value=o.cca2,a.textContent=o.name.common,e.appendChild(a)}}catch(e){console.error("error fetching countries")}}(),s(t)}));
//# sourceMappingURL=catalog.5e7cb921.js.map
