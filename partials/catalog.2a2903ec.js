!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){a[e]=t},t.parcelRequired7c6=r);var c=r("bpxeT"),o=r("2TvXO");c=r("bpxeT"),o=r("2TvXO");function i(e,t){return s.apply(this,arguments)}function s(){return(s=e(c)(e(o).mark((function t(n,a){var r,c,i,s,u,d;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.getElementById("popUpContainer"),c=document.getElementById("popUpImage"),i=document.getElementById("popUpDescription"),c.innerHTML="",i.innerHTML="",(s=document.createElement("img")).src="https://image.tmdb.org/t/p/w500".concat(n.poster_path),c.appendChild(s),e.next=10,p(a);case 10:u=e.sent,d=n.genre_ids.map((function(e){return u[e]})).filter((function(e){return e})),i.innerHTML="\n        <h2>".concat(n.title,'</h2>\n        <p class="pop-up-description-data vote" >Vote / Votes: <span> ').concat(n.vote_average," / ").concat(n.vote_count,'</span></p>\n        <p class="pop-up-description-data popularity">Popularity: <span>').concat(n.popularity,'</span></p>\n        <p class="pop-up-description-data gendre">Genre: <span>').concat(d.length>0?d.join(", "):"",'</span></p>\n        <p class="pop-up-description-data about"> ABOUT:</p>\n        <p class="pop-up-description-data about-desc"> ').concat(n.overview,'</p>\n        <button class="buttonAddToMyLibrary" id="buttonAddToMyLibrary">Add to my</button>\n    '),r.style.display="flex",console.log(n.title),document.getElementById("closePopUp").onclick=function(){r.style.display="none"};case 16:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function p(e){return u.apply(this,arguments)}function u(){return(u=e(c)(e(o).mark((function t(n){var a,r,c;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(n,"&language=en-US&"));case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,c={},r.genres.forEach((function(e){c[e.id]=e.name})),e.abrupt("return",c);case 12:return e.prev=12,e.t0=e.catch(0),console.error("Błąd podczas pobierania gatunków:",e.t0),e.abrupt("return",{});case 16:case"end":return e.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}var d="26ee83a5e26d7fcb87f8d8380af6bd82",l=document.querySelector(".gallery"),m=1,f=24,h="",v="",y="";function g(){return(g=e(c)(e(o).mark((function t(){var n,a,r,c,i,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("countrySelect"),e.prev=1,e.next=4,fetch("https://restcountries.com/v3.1/all");case 4:return a=e.sent,e.next=7,a.json();case 7:for(r=e.sent,c=0;c<r.length;c++)i=r[c],(s=document.createElement("option")).value=i.cca2,s.textContent=i.name.common,n.appendChild(s);e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Błąd podczas pobierania krajów:",e.t0);case 14:case"end":return e.stop()}}),t,null,[[1,11]])})))).apply(this,arguments)}function x(){return(x=e(c)(e(o).mark((function t(){var n,a,r,c;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=document.getElementById("yearSelect"),a=(new Date).getFullYear(),r=a;r>=1980;r--)(c=document.createElement("option")).value=r,c.textContent=r,n.appendChild(c);case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function w(){return b.apply(this,arguments)}function b(){return(b=e(c)(e(o).mark((function t(){var n,a,r,c,i,s,p;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for((n=document.getElementById("pagination")).innerHTML="",m>=1&&((a=document.createElement("button")).textContent="<",a.classList.add("prevnext-btn"),a.addEventListener("click",(function(){m--,h?C(h,m):k(m),w()})),n.appendChild(a)),r=1;r<=Math.min(3,f);r++)(c=document.createElement("button")).textContent=r,c.classList.add("pagination-btn"),r===m&&c.classList.add("active"),c.addEventListener("click",(function(){m=r,h?C(h,m):k(m),w()})),n.appendChild(c);f>3&&((i=document.createElement("div")).textContent="...",n.appendChild(i),i.classList.add("dots"),(s=document.createElement("button")).textContent=24,s.classList.add("pagination-btn"),s.addEventListener("click",(function(){m=24,h?C(h,m):k(m),w()})),n.appendChild(s)),m<f&&((p=document.createElement("button")).textContent=">",p.classList.add("prevnext-btn"),p.addEventListener("click",(function(){m++,h?C(h,m):k(m),w()})),n.appendChild(p));case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function k(){return E.apply(this,arguments)}function E(){return E=e(c)(e(o).mark((function t(){var n,a,r,c,s,p,u=arguments;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:1,a=v?"&region=".concat(v):"",r=y?"&primary_release_year=".concat(y):"",c="https://api.themoviedb.org/3/movie/popular?api_key=".concat(d,"&language=en-US&include_adult=false&page=").concat(n).concat(a).concat(r),e.prev=4,e.next=7,fetch(c);case 7:if((s=e.sent).ok){e.next=10;break}throw new Error("response was not ok");case 10:return e.next=12,s.json();case 12:p=e.sent,f=p.total_pages,l.innerHTML="",p.results.length>0?p.results.forEach((function(e){var t=document.createElement("div");t.className="movie";var n=document.createElement("img");n.src="https://image.tmdb.org/t/p/w500".concat(e.poster_path);var a=document.createElement("p");a.textContent=e.title,a.className="movie-title",t.appendChild(n),t.appendChild(a),l.appendChild(t),t.addEventListener("click",(function(){i(e,d)}))})):l.textContent="OOPS... Brak wyników pasujących do wyszukiwania.",w(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),console.error("Błąd podczas pobierania filmów:",e.t0);case 22:case"end":return e.stop()}}),t,null,[[4,19]])}))),E.apply(this,arguments)}function C(e){return L.apply(this,arguments)}function L(){return L=e(c)(e(o).mark((function t(n){var a,r,c,i,s,p,u,m,h,g,x,b,k,E,C,L=arguments;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=L.length>1&&void 0!==L[1]?L[1]:1,r=y?"&primary_release_year=".concat(y):"",c=v?"&region=".concat(v):"",i="https://api.themoviedb.org/3/search/movie?query=".concat(n,"&api_key=").concat(d,"&language=en-US&include_adult=false&page=").concat(a).concat(c).concat(r),e.prev=4,e.next=7,fetch(i);case 7:if((s=e.sent).ok){e.next=10;break}throw new Error("response was not ok");case 10:return e.next=12,s.json();case 12:if(p=e.sent,f=p.total_pages,l.innerHTML="",u=!0,m=!1,h=void 0,!(p.results.length>0)){e.next=35;break}for(e.prev=17,g=p.results[Symbol.iterator]();!(u=(x=g.next()).done);u=!0)b=x.value,(k=document.createElement("div")).className="movie",(E=document.createElement("img")).src="https://image.tmdb.org/t/p/w500".concat(b.poster_path),(C=document.createElement("p")).textContent=b.title,C.className="movie-title",k.appendChild(E),k.appendChild(C),l.appendChild(k);e.next=25;break;case 21:e.prev=21,e.t0=e.catch(17),m=!0,h=e.t0;case 25:e.prev=25,e.prev=26,u||null==g.return||g.return();case 28:if(e.prev=28,!m){e.next=31;break}throw h;case 31:return e.finish(28);case 32:return e.finish(25);case 33:e.next=36;break;case 35:l.textContent="OOPS... Brak wyników pasujących do wyszukiwania.";case 36:w(),e.next=42;break;case 39:e.prev=39,e.t1=e.catch(4),console.error("Błąd podczas wyszukiwania filmów:",e.t1);case 42:case"end":return e.stop()}}),t,null,[[4,39],[17,21,25,33],[26,,28,32]])}))),L.apply(this,arguments)}document.getElementById("searchButton").addEventListener("click",(function(e){e.preventDefault(),h=document.getElementById("searchInput").value,y=document.getElementById("yearSelect").value,v=document.getElementById("countrySelect").value,""!==h&&(m=1,C(h))})),document.addEventListener("DOMContentLoaded",(function(){!function(){x.apply(this,arguments)}(),function(){g.apply(this,arguments)}(),k(m)}))}();
//# sourceMappingURL=catalog.2a2903ec.js.map
