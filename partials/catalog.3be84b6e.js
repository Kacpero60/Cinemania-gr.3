async function t(t,e){const n=document.getElementById("popUpContainer"),a=document.getElementById("popUpImage"),o=document.getElementById("popUpDescription");a.innerHTML="",o.innerHTML="";const c=document.createElement("img");c.src=`https://image.tmdb.org/t/p/w500${t.poster_path}`,a.appendChild(c);const i=await async function(t){try{const e=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${t}&language=en-US&`),n=await e.json(),a={};return n.genres.forEach((t=>{a[t.id]=t.name})),a}catch(t){return console.error("Błąd podczas pobierania gatunków:",t),{}}}(e),s=t.genre_ids.map((t=>i[t])).filter((t=>t));o.innerHTML=`\n        <h2>${t.title}</h2>\n        <p class="pop-up-description-data vote" >Vote / Votes: <span> ${t.vote_average} / ${t.vote_count}</span></p>\n        <p class="pop-up-description-data popularity">Popularity: <span>${t.popularity}</span></p>\n        <p class="pop-up-description-data gendre">Genre: <span>${s.length>0?s.join(", "):""}</span></p>\n        <p class="pop-up-description-data about"> ABOUT:</p>\n        <p class="pop-up-description-data about-desc"> ${t.overview}</p>\n        <button class="buttonAddToMyLibrary" id="buttonAddToMyLibrary">Add to my</button>\n    `,n.style.display="flex",console.log(t.title),document.getElementById("closePopUp").onclick=function(){n.style.display="none"}}const e=document.querySelector(".gallery");let n=1,a=24;let o={};async function c(){const t=document.getElementById("pagination");if(t.innerHTML="",n>1){const e=document.createElement("button");e.textContent="<",e.classList.add("prevnext-btn"),e.addEventListener("click",(()=>{n--,i(n),c()})),t.appendChild(e)}for(let e=1;e<=Math.min(3,a);e++){const a=document.createElement("button");a.textContent=e,a.classList.add("pagination-btn"),e===n&&a.classList.add("active"),a.addEventListener("click",(()=>{n=e,i(n),c()})),t.appendChild(a)}if(a>3){const e=document.createElement("div");e.textContent="...",e.classList.add("dots"),t.appendChild(e);const o=document.createElement("button");o.textContent=a,o.classList.add("pagination-btn"),o.addEventListener("click",(()=>{n=a,i(n),c()})),t.appendChild(o)}if(n<a){const e=document.createElement("button");e.textContent=">",e.classList.add("prevnext-btn"),e.addEventListener("click",(()=>{n++,i(n),c()})),t.appendChild(e)}}async function i(n=1){const i=`https://api.themoviedb.org/3/movie/popular?api_key=26ee83a5e26d7fcb87f8d8380af6bd82&language=en-US&include_adult=false&page=${n}`;try{const n=await fetch(i);if(!n.ok)throw new Error("response was not ok");const s=await n.json();a=s.total_pages,e.innerHTML="",s.results.length>0?s.results.forEach((n=>{const a=document.createElement("div");a.className="movie";const c=document.createElement("img");c.src=`https://image.tmdb.org/t/p/w500${n.poster_path}`;const i=document.createElement("p");i.textContent=n.title,i.className="movie-title";const s=document.createElement("p"),d=n.genre_ids.map((t=>o[t])).filter((t=>t)).join(", "),p=n.release_date.split("-")[0];s.textContent=`${d} | ${p}`,s.className="movie-genres-year",a.appendChild(c),a.appendChild(i),a.appendChild(s),e.appendChild(a),a.addEventListener("click",(()=>{t(n,"26ee83a5e26d7fcb87f8d8380af6bd82")}))})):e.textContent="OOPS... Brak wyników pasujących do wyszukiwania.",c()}catch(t){console.error("Błąd podczas pobierania filmów:",t)}}!async function(){await fetchGenre(),await async function(){const t=document.getElementById("countrySelect");try{const e=await fetch("https://restcountries.com/v3.1/all"),n=await e.json();for(let e=0;e<n.length;e++){const a=n[e],o=document.createElement("option");o.value=a.cca2,o.textContent=a.name.common,t.appendChild(o)}}catch(t){console.error("Błąd podczas pobierania krajów:",t)}}(),await async function(){const t=document.getElementById("yearSelect");for(let e=(new Date).getFullYear();e>=1980;e--){const n=document.createElement("option");n.value=e,n.textContent=e,t.appendChild(n)}}(),i(n)}();
//# sourceMappingURL=catalog.3be84b6e.js.map
